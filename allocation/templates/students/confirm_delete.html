<!DOCTYPE html>
<html>
<head>
  <title>Delete Student</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; }
    .container { max-width: 700px; margin: 40px auto; background:white; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.08); padding: 24px; }
    h1 { margin:0 0 8px; color:#c0392b; }
    .note { color:#555; margin-bottom:16px; }
    .details { background:#fafafa; border:1px solid #eee; border-radius:6px; padding:12px; }
    .actions { display:flex; gap:12px; margin-top:18px; }
    .btn { padding:10px 14px; border:none; border-radius:6px; cursor:pointer; text-decoration:none; display:inline-block; }
    .btn-danger { background:#e74c3c; color:white; }
    .btn-danger:hover { background:#c0392b; }
    .btn-secondary { background:#95a5a6; color:white; }
    .btn-secondary:hover { background:#7f8c8d; }
    .warning { background:#fff3cd; border:1px solid #ffeeba; color:#856404; padding:10px; border-radius:6px; margin-top:14px; }
  </style>
</head>
<body>
  <div class="container">
    {% include 'partials/back_to_dashboard.html' %}
    <h1>Delete Student</h1>
    <p class="note">This action will permanently remove the student and their related records (attendance, marks, enrollments).</p>

    <div class="details">
      <div><b>Name:</b> {{ student.name }}</div>
      <div><b>Enrollment No:</b> {{ student.enrollment_no }}</div>
      <div><b>Branch / Semester / Division:</b> {{ student.branch.name }} / S{{ student.semester.number }} / {{ student.division }}</div>
      {% if student.mentor_name %}<div><b>Mentor:</b> {{ student.mentor_name }}</div>{% endif %}
    </div>

    <div class="warning">Please confirm. This cannot be undone.</div>

    <form method="post" class="actions">
      {% csrf_token %}
      <div style="flex:1;">
        <label style="display:block; font-weight:600; margin-bottom:6px;">Type the enrollment number to confirm</label>
        <input type="text" name="confirm_enrollment" placeholder="{{ student.enrollment_no }}" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:6px;">
        {% if error %}<div style="color:#c0392b; margin-top:6px;">{{ error }}</div>{% endif %}
      </div>
      <button type="submit" class="btn btn-danger">Yes, Delete</button>
      <a href="{% url 'student_profile' student.id %}" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</body>
</html>
